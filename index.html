<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kestis Arcade</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Orbitron',sans-serif; }
    body { background: linear-gradient(135deg, #6b00ff, #ff00ff); color:#fff; min-height:100vh; overflow-x:hidden; }
    a { color:inherit; text-decoration:none; }
    #particles-js { position: fixed; width:100%; height:100%; z-index:-1; top:0; left:0; }
    .sidebar { position:fixed; left:0; top:0; width:220px; height:100%; background:rgba(0,0,0,0.6); border-right:2px solid #bb33ff; padding:20px; display:flex; flex-direction:column; }
    .sidebar h1 { font-size:1.8rem; color:#e6ccff; text-shadow:0 0 10px #bb33ff; margin-bottom:10px; }
    .sidebar p { font-size:0.9rem; color:#c699ff; text-shadow:0 0 5px #aa00ff; margin-bottom:20px; }
    .main { margin-left:240px; padding:20px; display:flex; flex-direction:column; }
    .search-bar { margin-bottom:20px; }
    .search-bar input { width:100%; padding:10px; border-radius:8px; border:none; background:rgba(255,255,255,0.1); color:#fff; font-size:1rem; }
    .game-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:20px; margin-bottom:20px; }
    .game-card { background:rgba(255,255,255,0.05); padding:10px; border-radius:10px; text-align:center; box-shadow:0 0 10px #bb33ff; cursor:pointer; transition:transform 0.2s; }
    .game-card:hover { transform:scale(1.05); box-shadow:0 0 20px #ff66ff; }
    .game-card img { max-width:100%; border-radius:8px; margin-bottom:10px; }
    .game-card h3 { font-size:1.2rem; color:#e6ccff; text-shadow:0 0 5px #bb33ff; }
    #gameFrame { width:100%; height:600px; border:none; border-radius:10px; margin-top:20px; display:none; }
    footer { text-align:center; margin-top:20px; color:#a366ff; text-shadow:0 0 5px #6600ff; }
    @media(max-width:768px){ .sidebar { width:100%; height:auto; position:relative; border-right:none; border-bottom:2px solid #bb33ff; flex-direction:row; justify-content:space-between; } .main { margin-left:0; margin-top:10px; } .game-grid { grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); } }
</style>
</head>
<body>
<div id="particles-js"></div>
<div class="sidebar">
    <div>
        <h1>Kestis Arcade</h1>
        <p>One of the BEST websites for playing games during school!</p>
    </div>
    <div style="align-self:flex-end;color:#bb33ff;text-shadow:0 0 5px #6600ff;">Made by Conner Tietsort</div>
</div>

<div class="main">
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search games or sites...">
    </div>
    <div class="game-grid" id="gameGrid"></div>
    <iframe id="gameFrame"></iframe>
</div>
<footer>&copy; 2025 Kestis Arcade</footer>

<script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
<script>
try {
    particlesJS('particles-js',{
        particles: { number:{value:80}, color:{value:["#bb33ff","#ff66ff","#e6ccff"]}, shape:{type:"circle"}, opacity:{value:0.7}, size:{value:3}, line_linked:{enable:true,distance:150,color:"#bb33ff",opacity:0.4,width:1}, move:{enable:true,speed:2} },
        interactivity:{ events:{ onhover:{ enable:true, mode:"grab" } } },
        retina_detect:true
    });
}catch(e){console.warn("Particles.js failed",e);}
</script>

<script>
const placeholderGames=[
    {"title":"Example Game","thumbnail":"https://via.placeholder.com/200x150.png?text=Game","path":"games/example.html"},
    {"title":"YouTube","thumbnail":"https://via.placeholder.com/200x150.png?text=YouTube","path":"https://www.youtube.com"},
    {"title":"Google","thumbnail":"https://via.placeholder.com/200x150.png?text=Google","path":"https://www.google.com"}
];

async function loadGames(){
    let games=[];
    try{
        const response=await fetch('./games.json');
        if(!response.ok) throw new Error('games.json not found');
        games=await response.json();
    }catch(err){
        console.warn('Using placeholders:',err);
        games=placeholderGames;
    }

    const grid=document.getElementById('gameGrid');
    const frame=document.getElementById('gameFrame');
    grid.innerHTML='';

    games.forEach(game=>{
        const card=document.createElement('div');
        card.classList.add('game-card');
        card.innerHTML=`<img src="${game.thumbnail}" alt="${game.title}"><h3>${game.title}</h3>`;
        card.addEventListener('click',()=>{
            frame.style.display='block';
            frame.src=game.path;
        });
        grid.appendChild(card);
    });
}

loadGames();

document.getElementById('searchInput').addEventListener('input',function(){
    const query=this.value.toLowerCase();
    document.querySelectorAll('.game-card').forEach(card=>{
        const title=card.querySelector('h3').textContent.toLowerCase();
        card.style.display=title.includes(query)?'block':'none';
    });
});
</script>
</body>
</html>
